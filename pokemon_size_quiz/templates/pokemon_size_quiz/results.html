{% extends "main.html" %}
{% load staticfiles %}

{% block css %}
<link rel="stylesheet" type="text/css" href="{% static 'pokemon_size_quiz/psq.css' %}">
<style>
#hist-list
{
    display:block;
}
</style>
{% endblock %}

{% block main %}
<div id="main">
    <input id="challenge_order" value="{{order}}" type="hidden">
    {% if ADS %}
    <div class="block ad">
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <!-- Pokyfriends Blog responsive -->
        <ins class="adsbygoogle" style="display:block;" data-ad-client="ca-pub-4412759244252723" data-ad-slot="2115202160" data-ad-format="auto"></ins>
    </div>
    {% endif %}
    
    <div class="block list" id="hist-list">
        <h2>Results for {{guesses.0.name}}</h2>
        <div id="history" style="width:200px;">
            {% for guess in guesses %}
                <div class="hist-frame">
                    <span class="pokefont" name="guess" data-pokemon="{{guess.pokemon}}">{{guess.guess}}</span><br>
                    <div class="hist-img"><img src="{% static 'pokemon_size_quiz/sugimori/'|add:guess.get_pokemon|add:'.png' %}"></div>
                    <div class="hist-acc pokefont" name="acc-{{guess.pokemon}}">X</div>
                    <div style="background-color:#FFF">
                        <br>
                        <div class="hist-res" name="diff-{{guess.pokemon}}">X</div>
                        <br>
                    </div>
                </div>
            {% endfor %}
        </div>
        
        <br>
        
        <div id="final_stats">
            <h2>Statistics</h2>
            <div class="left col">
                <span id="within_12" class="pokefont">-</span><br>
                <span class="data">Within<br>1 ft.</span>
            </div>
            <div class="left col">
                <span id="within_6" class="pokefont">-</span><br>
                <span class="data">Within<br>6 in.</span>
            </div>
            <div class="left col">
                <span id="within_1" class="pokefont">-</span><br>
                <span class="data">Within<br>1 in.</span>
            </div>
            <div class="left col">
                <span id="accuracy_percent" class="pokefont">-%</span><br>
                <span class="data">Overall<br>Accuracy</span>
            </div>
            <br>
            <div style="text-align:center">
                <span id="avg_off" class="pokefont">-</span><br>
                <span class="data">Average<br>Off By</span>
                <br>
                <br>
                <a href="/pokemon-size-quiz" class="another pokefont">Take Another Quiz</a>
            </div>
        </div>
    </div>
    
    <div class="block" id="share">
        <div class="heading" style="text-align:left">Challenge a Friend</div>
        <div>
            <p>Simply copy the link below with with a friend and they can take the same quiz as you! When they finish a link comparing your game with theirs will be made available so you can easily compare how well both of you did.</p>
            
            <input name="link" value="http://pokyfriends.com/pokemon-size-quiz/challenge/{{quiz_code}}" class="pokefont" readonly><br>
            
            <a href="/pokemon-size-quiz/challenge/{{quiz_code}}">Direct Quiz Link</a>
            
            <p>Or you can directly post your challenge to Twitter/Tumblr</p>
            
            <a target="_blank" id="twitter_link" href="#" data-lang="en"><img src="/pokemon-size-quiz/assets/twitter.png"></a>
            <a target="_blank" id="tumblr_link" href="#"><img src="/pokemon-size-quiz/assets/tumblr.png"></a>
        </div>
    </div>
    
    {% if ADS %}
    <div class="block ad">
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <!-- Pokyfriends Blog responsive -->
        <ins class="adsbygoogle" style="display:block;" data-ad-client="ca-pub-4412759244252723" data-ad-slot="2115202160" data-ad-format="auto"></ins>
    </div>
    {% endif %}    
</div>
{% endblock %}

{% block sidebar %}
<div id="sidebar">
    {% if challenge != "" %}
    <div id="options" class="block">
    <p>You're taking challenge <b>{{challenge}}</b> vs. <b>{{name}}</b><br><br>
    If you'd prefer to take your own quiz of a random set of pokémon with nobody to compete against, you can take a regular <a href="/pokemon-size-quiz/">quiz</a> instead.
    </p>
    </div>
    {% else %}
    <div id="options" class="block">
        <h3>Quiz Size</h3>
        {% if debug %}<label class="choice"><input type="radio" name="size" value="5"> Debug (5)</label>{% endif %}
        <label class="choice"><input type="radio" name="size" value="20" checked> Quick <div class="fr"> 20 Pokémon</div></label>
        <label class="choice"><input type="radio" name="size" value="40"> Standard <div class="fr"> 40 Pokémon</div></label>
        <label class="choice"><input type="radio" name="size" value="100"> Challenging <div class="fr">100 Pokémon</div></label>
        <label class="choice"><input type="radio" name="size" value="pokedex"> Full Dex <div class="fr"><span id="full_size">721</span> Pokémon</div></label>
        <h3>Pokédex Sets</h3>
        <label class="choice"><input type="checkbox" name="pokedex" value="Kanto" checked> Kanto <div class="fr"># 001-151</div></label>
        <label class="choice"><input type="checkbox" name="pokedex" value="Johto" checked> Johto <div class="fr"># 152-251</div></label>
        <label class="choice"><input type="checkbox" name="pokedex" value="Hoenn" checked> Hoenn <div class="fr"># 252-386</div></label>
        <label class="choice"><input type="checkbox" name="pokedex" value="Sinnoh" checked> Sinnoh <div class="fr"># 387-493</div></label>
        <label class="choice"><input type="checkbox" name="pokedex" value="Unova" checked> Unova <div class="fr"># 494-649</div></label>
        <label class="choice"><input type="checkbox" name="pokedex" value="Kalos" checked> Kalos <div class="fr"># 650-721</div></label>
    </div>
    {% endif %}
</div>
{% endblock %}

{% block scripts %}
<script>
var mode = "{{mode}}";
</script>
<script src="//ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script> 
<script src="{% static 'pokemon_size_quiz/data.js' %}"></script>
<script src="{% static 'pokemon_size_quiz/results.js' %}"></script>
{% if ADS %}
<script>
$(document).ready(function (){
    (adsbygoogle = window.adsbygoogle || []).push({});
    (adsbygoogle = window.adsbygoogle || []).push({});
});
</script>
{% endif %}

{% endblock %}